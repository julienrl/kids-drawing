<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dessins d'Enfants</title>
    <link rel="stylesheet" href="style.css">
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" referrerpolicy="no-referrer" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="module" src="./shapes.js"></script>
    <script type="module" src="./main.js"></script>
</head>

<body class="bg-gray-800 text-white">

        <!-- Container for the entire page -->
        <div class="flex flex-col h-screen" id="main-content">

            <!-- Top bar -->
            <div class="bg-gray-900 p-2 flex justify-center items-center w-full z-50">
                <a href="https://tailwindcss.com/" class="inline-flex items-center ml-2" target="_blank">
                    <img src="./images/logo.jpg" alt="logo" class="h-5 mr-3">
                    <h1 class="text-gray-400 hover:text-gray-200">Dessins d'Enfants</h1>
                </a>
            </div>

            <!-- Main Content Container -->
            <div class="flex h-full">

                <!-- Left side Toolbar -->
                <div class="bg-gray-700 w-16 p-2 flex flex-col items-center z-40">

                    <!-- Circle -->
                    <button id="circleButton" class="w-10 h-10 mb-2 flex justify-center items-center bg-gray-600 rounded hover:bg-gray-500">
                        <i class="fas fa-circle"></i>
                    </button>

                    <!-- Rectangle -->
                    <button id="rectangleButton" class="w-10 h-10 mb-2 flex justify-center items-center bg-gray-600 rounded hover:bg-gray-500">
                        <i class="far fa-square"></i>
                    </button>

                    <!-- Text -->
                    <button id="textButton" class="w-10 h-10 mb-2 flex justify-center items-center bg-gray-600 rounded hover:bg-gray-500">
                        <i class="fas fa-font"></i>
                    </button>

                    <!-- Spacer -->
                    <div class="flex-grow"></div>

                    <!-- Shape Filter Buttons at the Bottom of the Toolbar -->
                    <div>
                        <h6 class="text-gray-300 mb-2">Filtre</h6>
                    </div>
                    <!-- All Shapes Button -->
                    <button id="filterAllShapes" class="color-button clicked">
                        <i class="fas fa-shapes"></i>
                    </button>
                    <!-- Circle -->
                    <button id="filterCircle" class="color-button">
                        <i class="fas fa-circle"></i>
                    </button>
                    <!-- Rectangle -->
                    <button id="filterRectangle" class="color-button">
                        <i class="far fa-square"></i>
                    </button>
                    <!-- Text  -->
                    <button id="filterTextElement" class="color-button">
                        <i class="fas fa-font"></i>
                    </button>

                </div>

                <!-- Canvas and Right Panel Container -->
                <div class="flex flex-1 min-h-0">

                    <!-- Canvas -->
                    <div class="flex-1 p-4 flex justify-center items-center bg-gray-800 relative">
                        <div class="w-full h-full p-10">
                            <figure class="image text-center mb-4 flex justify-center items-center w-full h-full shadow-lg">
                                <svg id="canvas" class="object-contain w-full h-full" style="background: white;"></svg>
                            </figure>
                        </div>
                    </div>

                    <!-- Right Panels -->
                    <div class="bg-gray-700 w-1/3 p-4 flex flex-col">

                        <!-- Layers Section (Table Body) -->
                        <div class="flex-grow overflow-auto">
                            <div class="">
                                <table class="table-auto w-full border-collapse text-left">
                                    <thead>
                                        <tr class="bg-gray-800">
                                            <th class="border border-gray-700 text-gray-200 px-4 py-2">Calques</th>
                                        </tr>
                                    </thead>
                                    <tbody id="table-body" class="bg-gray-900 text-gray-200 table-style">
                                        <!-- Id, Description, Action -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        

                        <!-- Clear Button -->
                        <div class="mt-4 flex justify-end">
                            <button id="clear-drawing" class="bg-red-500 hover:bg-red-700 border-b-4 border-red-900 text-white font-bold py-2 px-4 rounded">
                                Tout Effacer
                            </button>
                        </div>

                    </div>

                </div>

                <!--
                    Side panels
                    Hidden => appears on click 
                    with the associated button
                -->

                <!-- Circle Panel -->
                <div id="circleOptionsPanel" class="fixed top-0 left-16 h-full bg-gray-600 shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out z-20">
                    <!-- X Button -->
                    <div class="absolute top-10 right-4 p-2">
                        <button class="mb-2 text-white bg-gray-700 hover:bg-gray-500 rounded-full w-8 h-8 flex items-center justify-center" id="closeCirclePanel">
                            &times;
                        </button>
                    </div>
                    <!-- Panel content -->
                    <div class="flex flex-wrap gap-4 p-4 mt-12">
                        <div class="flex flex-col">
                            <label for="cx" class="mb-2 text-gray-300">Centre X</label>
                            <input id="cx" max="500" min="1" placeholder="250" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <label for="cy" class="mb-2 text-gray-300">Centre Y</label>
                            <input id="cy" max="500" min="1" placeholder="250" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <label for="cr" class="mb-2 text-gray-300">Rayon</label>
                            <input id="cr" max="500" min="1" placeholder="100" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <button id="add-circle" class="mt-8 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Ajouter Cercle</button>
                        </div>
                    </div>
                </div>

                <!-- Rectangle Options Panel -->
                <div id="rectangleOptionsPanel" class="fixed left-16 top-0 h-full bg-gray-600 shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out z-20">
                    <!-- X Button -->                    
                    <div class="absolute top-10 right-4 p-2">
                        <button class="text-white bg-gray-700 hover:bg-gray-500 rounded-full w-8 h-8 flex items-center justify-center" id="closeRectanglePanel">
                            &times;
                        </button>
                    </div>
                    <!-- Rectangle Pannel -->
                    <div class="flex flex-wrap gap-4 p-4 mt-12">
                        <div class="flex flex-col">
                            <label for="rx" class="mb-2 text-gray-300">Point X</label>
                            <input id="rx" max="500" min="1" placeholder="250" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <label for="ry" class="mb-2 text-gray-300">Point Y</label>
                            <input id="ry" max="500" min="1" placeholder="250" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <label for="rw" class="mb-2 text-gray-300">Longueur</label>
                            <input id="rw" max="500" min="1" placeholder="100" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <label for="rh" class="mb-2 text-gray-300">Hauteur</label>
                            <input id="rh" max="500" min="1" placeholder="100" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <button id="add-rectangle" class="mt-8 bg-amber-500 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded">Ajouter Rectangle</button>
                        </div>
                    </div>
                </div>

                <!-- Text Panel -->
                <div id="textOptionsPanel" class="fixed left-16 top-0 h-full bg-gray-600 shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out z-20">
                    <!-- X Button --> 
                    <div class="absolute top-10 right-4 p-2">
                        <button class="text-white bg-gray-700 hover:bg-gray-500 rounded-full w-8 h-8 flex items-center justify-center" id="closeTextPanel">
                            &times;
                        </button>
                    </div>

                    <!-- Row 1 - Text Input -->
                    <div class="flex flex-wrap gap-4 p-4 mt-12">
                        <div class="flex flex-col">
                            <label for="tx" class="mb-2 text-gray-300">Point X</label>
                            <input id="tx" max="500" min="1" placeholder="250" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <label for="ty" class="mb-2 text-gray-300">Point Y</label>
                            <input id="ty" max="500" min="1" placeholder="250" type="number" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                        <div class="flex flex-col">
                            <label for="text-content" class="mb-2 text-gray-300">Texte</label>
                            <input id="text-content" placeholder="Dessins d'Enfants" class="border border-gray-600 bg-gray-800 text-white rounded p-2">
                        </div>
                    </div>

                    <!-- Row 2 - Font -->
                    <div class="flex flex-wrap gap-4 p-4">
                        <div class="flex flex-col">
                            <label for="fonts" class="block mb-2 text-sm text-gray-300">Police de caractère</label>
                            <select id="fonts" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                            <option value="Arial">Arial</option>
                            <option value="Impact">Impact</option>
                            <option value="Open Sans">Open Sans</option>
                            <option value="Comic Sans MS">Comic Sans</option>
                            <option value="Times New Roman">Times New Roman</option>
                            <option value="Segoe UI">Segoe UI</option>
                            </select>
                        </div>
                        <div class="flex flex-col">
                            <label for="font-size" class="block mb-2 text-sm text-gray-300">Taille de police</label>
                            <input id="font-size" type="number" value="16" min="1" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" />
                        </div>
                        <div class="flex items-end">
                            <button id="add-text" class="bg-pink-400 hover:bg-pink-700 text-white font-bold py-2 px-4 rounded">Ajouter Texte</button>
                        </div>
                    </div>

                </div>

            </div>

        </div>

    <!-- Pop-up -->
    <div id="popup" class="pointer-events-none fixed inset-0 hidden px-6 pb-6 mt-10">
        <div class="pointer-events-auto mx-auto max-w-xl rounded-xl bg-gray-600 p-6 shadow-lg ring-1 ring-gray-900/10">
            <p id="popup-message" class="text-sm leading-6 text-white"></p>
            <div class="mt-4 flex items-center gap-x-5">
                <button id="popup-ok" type="button" class="rounded-md bg-rose-500 px-3 py-2 border-b-4 border-rose-900 text-sm font-semibold text-white shadow-sm hover:bg-rose-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-900">OK</button>
            </div>
        </div>
    </div>

<script type="module" src="./side-button.js"></script>
</body>
</html>